<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<style>/* ==== Премахване на нежелана кафява линия в долния край ==== */

/* гаранция, че няма празни margin от браузъра */
html, body { height: 100%; margin: 0; }

/* настройка на hero-bg да не прави "шев" */
#hero-bg {
  background-size: cover !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
  box-shadow: none !important;
  border-bottom: none !important;
  -webkit-backface-visibility: hidden; /* предотвратява рендър артефакти */
  -webkit-transform: translateZ(0);   /* предотвратява seam при fixed background */
}

/* Ако линия идва от главната секция/карта — премахваме граници/сянки */
#mainPage, main, #about, .bg-card, .rounded-xl {
  box-shadow: none !important;
  border: none !important;
  background-clip: padding-box !important;
}

/* Понякога fixed background прави seam на мобилни/някои браузъри.
   Превключваме на scroll за малки екрани за да избегнем линията */
@media (max-width: 900px) {
  #hero-bg { background-attachment: scroll !important; }
}

/* допълнителна защита: премахваме 1px линии от hr и подобни */
hr, .divider, .line { border: 0 !important; height: 0 !important; box-shadow: none !important; }

body { scroll-behavior: smooth; background: #f4eadf; color: #333; }
#hero-bg { background-image: url('images/bg-old-bulgarian-farm.jpg'); background-attachment: fixed; background-size: cover; background-position: center; height: 110vh; }
header { position: fixed; top:0; left:0; width:100%; background: rgba(255,255,255,0.95); z-index:50; display:flex; justify-content:space-between; align-items:center; padding:0.2rem 1.5rem; box-shadow:0 2px 8px rgba(0,0,0,0.2); }
header h1 { font-size:1.75rem; color:#6B4226; font-weight:bold; cursor:pointer; }
nav a { margin-left:1rem; font-weight:500; color:#6B4226; transition:0.3s; cursor:pointer; }
nav a:hover{color:#A66B3C;}
.cart-btn{background:#6B4226;color:white;border-radius:50%;width:3rem;height:3rem;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;}
.cart-count{position:absolute;top:-0.5rem;right:-0.5rem;background:red;width:1.25rem;height:1.25rem;font-size:0.75rem;border-radius:50%;display:flex;align-items:center;justify-content:center;}
#about { max-width:7xl; margin: 2rem auto; padding:2rem; background:#fff; border-radius:0.5rem; }
.gallery-container { position: relative; display: flex; flex-direction: column; }
.gallery-main { width: 100%; height: 300px; object-fit: cover; border-radius:0.5rem; margin-bottom:1rem; cursor:pointer; }
.gallery-thumbs { display: flex; gap:0.5rem; }
.gallery-thumbs img { width:70px;height:70px;object-fit:cover;border-radius:0.25rem;cursor:pointer;border:2px solid transparent; }
.gallery-thumbs img.active{border-color:#6B4226;}
.arrow-btn{position:absolute;top:50%;transform:translateY(-50%);background:rgba(107,66,38,0.8);color:white;border:none;font-size:2rem;padding:0.25rem 0.5rem;cursor:pointer;border-radius:0.25rem;}
.arrow-left{left:0;}
.arrow-right{right:0;}
#lightboxOverlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);align-items:center;justify-content:center;z-index:100;backdrop-filter:blur(6px);}
#lightboxOverlay img{max-width:90%;max-height:90%;}
#lightboxOverlay button{position:absolute;top:50%;transform:translateY(-50%);background:rgba(107,66,38,0.8);color:white;border:none;font-size:2rem;padding:0.5rem;cursor:pointer;border-radius:0.25rem;}
#lightboxLeft{left:10px;} #lightboxRight{right:10px;}
#productPage { display:none; padding-top:4rem; }
#productPage .content { background: rgba(255,255,255,0.95); border-radius:0.5rem; padding:2rem; max-width:6xl; margin:2rem auto; }

/* --- Допълнителни стилове за Buy бутони (override/фиксиране) --- */
.vl-buy-btn-card { width: clamp(200px, 45vw, 260px) !important; height: 46px !important; border-radius: 8px !important; padding: 0 1rem !important; font-weight:700 !important; }
.vl-buy-btn-product { height: 50px !important; border-radius:8px !important; }
.vl-buy-bg-overlay { position:absolute; inset:0; background: rgba(0,0,0,0.22); pointer-events:none; z-index:0; border-radius:inherit; }
.vl-buy-text { position:relative; z-index:1; color:white; }

/* ---- НОВО: премахваме кафявия background color за всички купи-бутончета (override на inline/bg class) ---- */
.vl-buy-btn-card, .vl-buy-btn-product, .vl-buy-btn {
  background-color: transparent !important;
  background: transparent !important;
}
</style>
</head>
<body>

<header>
<div id="homeBtn" class="flex items-center gap-3 cursor-pointer">
  <img src="images/logo.png" style="height:59px;width:auto;">
</div>
<nav class="flex items-center">
<a id="navHome">Начало</a>
<a id="navProducts">Продукти</a>
<a id="navContact">Контакти</a>
<a id="navAbout">За нас</a>
<div class="cart-btn ml-4 flex items-center justify-center" style="width:2.4rem;height:2.4rem;background:#6B4226;border-radius:50%;box-shadow:inset 0 1px 2px rgba(255,255,255,0.15),0 2px 6px rgba(0,0,0,0.25);">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="9" cy="21" r="1"/>
    <circle cx="20" cy="21" r="1"/>
    <path d="M1 1h4l2.6 13.2a2 2 0 0 0 2 1.6h9.7a2 2 0 0 0 2-1.6L23 6H6"/>
  </svg>
  <span class="cart-count">0</span>
</div>
<!-- START: Contact modal (paste BEFORE </body>) -->
<style id="contact-modal-styles">
  #contactModal { display: none; position: fixed; inset: 0; align-items: center; justify-content: center; z-index: 2200; }
  #contactModal.open { display: flex; }
  #contactModal .overlay { position:absolute; inset:0; background: rgba(0,0,0,0.55); backdrop-filter: blur(2px); }
  #contactModal .box {
    position: relative;
    z-index: 2201;
    width: 360px;
    max-width: 92%;
    background: #fff;
    border-radius: 10px;
    padding: 18px 18px 14px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    font-family: inherit;
  }
  #contactModal .box h3 { margin:0 0 8px; color:#6B4226; font-size:1.15rem; }
  #contactModal .box p { margin:6px 0; color:#333; font-size:0.95rem; }
  #contactModal .box a { color:#6B4226; text-decoration:none; font-weight:600; }
  #contactModal .close-btn {
    position:absolute; right:10px; top:8px; border:none; background:transparent; color:#6B4226;
    font-size:18px; cursor:pointer;
  }
</style>

<div id="contactModal" aria-hidden="true" role="dialog" aria-labelledby="contactModalTitle">
  <div class="overlay" data-close="true"></div>
  <div class="box" role="document">
    <button class="close-btn" aria-label="Затвори" data-close="true">✕</button>
    <h3 id="contactModalTitle">Контакти</h3>
    <p><strong>Телефон:</strong> <a href="tel:+359881234567">+359 88 123 4567</a></p>
    <p><strong>Имейл:</strong> <a href="mailto:info@vintagelumber.bg">info@vintagelumber.bg</a></p>
    <p><strong>Офис адрес:</strong> ул. Ретро 12, София</p>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function(){
  const navContact = document.getElementById('navContact');
  const modal = document.getElementById('contactModal');
  if(!navContact || !modal) return;

  function openModal(e){
    if(e) e.preventDefault();
    modal.classList.add('open');
    modal.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
  }
  function closeModal(){
    modal.classList.remove('open');
    modal.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
  }

  navContact.addEventListener('click', openModal);

  // close on overlay or close button (elements marked data-close="true")
  modal.addEventListener('click', function(e){
    if(e.target && e.target.dataset && e.target.dataset.close === 'true') closeModal();
  });

  // close on ESC
  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape' && modal.classList.contains('open')) closeModal();
  });
});
</script>
<!-- END: Contact modal -->


</nav>
</header>

<section id="hero-bg"></section>

<div id="mainPage" class="mt-24">
<main class="max-w-7xl mx-auto p-10 grid md:grid-cols-3 gap-8">
<a href="index.html?product=dd1" class="bg-white rounded-xl shadow hover:scale-105 transition">
<img src="images/dd1.jpg" class="h-56 w-full object-cover rounded-t-xl">
<div class="p-4 text-center">
<h3 class="font-semibold text-lg">Стара дървена дъска</h3>
<p class="text-[#6B4226] font-bold">Разгледай продукта</p>
</div>
</a>
<a href="index.html?product=dd2" class="bg-white rounded-xl shadow hover:scale-105 transition">
<img src="images/dd2.jpg" class="h-56 w-full object-cover rounded-t-xl">
<div class="p-4 text-center">
<h3 class="font-semibold text-lg">Рустик дъска</h3>
<p class="text-[#6B4226] font-bold">Разгледай продукта</p>
</div>
</a>
<a href="index.html?product=dg1" class="bg-white rounded-xl shadow hover:scale-105 transition">
<img src="images/dg1.jpg" class="h-56 w-full object-cover rounded-t-xl">
<div class="p-4 text-center">
<h3 class="font-semibold text-lg">Стара масивна греда</h3>
<p class="text-[#6B4226] font-bold">Разгледай продукта</p>
</div>
</a>
</main>

<div id="about">
</div>
</div>

<div id="productPage">
<div class="content">
<div class="grid md:grid-cols-2 gap-10 mt-6">
<div class="gallery-container">
<button class="arrow-btn arrow-left">&#8592;</button>
<img id="mainImage" class="gallery-main" src="" alt="Продукт">
<button class="arrow-btn arrow-right">&#8594;</button>
<div id="galleryThumbs" class="gallery-thumbs"></div>
</div>
<div>
<h1 id="title" class="text-3xl font-bold text-[#6B4226] mb-4"></h1>
<p id="description" class="mb-6"></p>
<h2 class="text-xl font-bold mb-2">Характеристики</h2>
<ul id="specs" class="list-disc ml-5 mb-6"></ul>
<h2 class="text-xl font-bold mb-2">Доставка</h2>
<p id="delivery"></p>
</div>
</div>
</div>
</div>

<div id="lightboxOverlay" class="flex">
<button id="lightboxLeft">←</button>
<img id="lightboxImage" src="" alt="Продукт">
<button id="lightboxRight">→</button>
</div>

<!-- Инпрегниран модал за За нас -->
<div id="aboutModal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50 p-4">
  <div class="bg-white rounded-xl max-w-4xl w-full p-8 overflow-y-auto max-h-[90vh] relative">
    <button id="closeAboutModal" class="text-[#6B4226] font-bold text-lg mb-4 absolute top-4 right-4">✕ Затвори</button>
    <h2 class="text-3xl font-bold text-[#6B4226] mb-4">История на Vintage Lumber Bulgaria</h2>
    <nav class="mb-4 flex gap-4 text-[#6B4226] font-semibold">
      <a href="#aboutIntro" class="aboutNavLink">Въведение</a>
      <a href="#aboutGrowth" class="aboutNavLink">Развитие</a>
      <a href="#aboutMission" class="aboutNavLink">Мисия</a>
      <a href="#aboutLegacy" class="aboutNavLink">Наследство</a>
    </nav>
    <section id="aboutIntro" class="mb-4">
      <h3 class="text-xl font-bold mb-2">Въведение</h3>
      <p>Vintage Lumber Bulgaria започва като малка семейна инициатива преди десетилетие, със страст към възстановяването на автентични български дървени дъски и греди. Основателите вярват, че всяко парче дърво носи своя уникална история и характер, и че тези истории заслужават да бъдат предадени на следващите поколения.</p>
    </section>
    <section id="aboutGrowth" class="mb-4">
      <h3 class="text-xl font-bold mb-2">Развитие</h3>
      <p>През годините компанията се разраства, като съчетава традиционните техники на ръчна обработка на дърво с модерни интериорни тенденции. Всеки продукт преминава през внимателен процес на подбор, реставрация и финално обработване, за да се запази естествената му красота и патина.</p>
    </section>
    <section id="aboutMission" class="mb-4">
      <h3 class="text-xl font-bold mb-2">Мисия</h3>
      <p>Нашата мисия е да съхраним и популяризираме уникалното наследство на българското дърво, да предложим продукти, които вдъхновяват и създават топлина в домовете и интериорите на клиентите ни. Вярваме, че всеки дом заслужава да има своята история и характер, а нашите продукти са част от тази история.</p>
    </section>
    <section id="aboutLegacy" class="mb-4">
      <h3 class="text-xl font-bold mb-2">Наследство</h3>
      <p>С течение на времето Vintage Lumber Bulgaria се утвърждава като символ на качество, автентичност и любов към детайла, а клиентите ни са нашата най-голяма гордост и вдъхновение за бъдещи проекти.</p>
    </section>
  </div>
</div>

<script>
const products={ dd1:{title:"Стара дървена дъска",images:["images/dd1.jpg","images/dd2.jpg","images/dg1.jpg"],description:"Автентична стара дървена дъска...",specs:["Естествено старо дърво","Ръчна селекция","Подходящо за интериор и декорация"],delivery:"Доставка..."}, dd2:{title:"Рустик дъска",images:["images/dd3.jpg","images/dd4.jpg","images/dd5.jpg"],description:"Автентична рустик дъска...",specs:["Ръчно подбрана","Уникален релеф"],delivery:"Доставка..."}, dg1:{title:"Стара масивна греда",images:["images/logo.png","images/prоduct1.jpg"],description:"Масивна греда...",specs:["Масивно дърво","Естествена патина"],delivery:"Доставка..."} };

const params=new URLSearchParams(window.location.search);
const productKey=params.get("product");
if(productKey && products[productKey]){
 const p=products[productKey];
 document.getElementById("mainPage").style.display="none";
 document.getElementById("productPage").style.display="block";
 document.getElementById("hero-bg").style.display="none"; 
 document.getElementById("title").innerText=p.title;
 document.getElementById("description").innerText=p.description;
 document.getElementById("delivery").innerText=p.delivery;
 const mainImage=document.getElementById("mainImage");
 const thumbsContainer=document.getElementById("galleryThumbs");
 const lightbox=document.getElementById("lightboxOverlay");
 const lightboxImage=document.getElementById("lightboxImage");
 const leftBtn=document.getElementById("lightboxLeft");
 const rightBtn=document.getElementById("lightboxRight");
 let currentIndex=0;
 function showImage(index){ currentIndex=index; mainImage.src=p.images[currentIndex]; Array.from(thumbsContainer.children).forEach((img,i)=> img.classList.toggle('active', i===index)); lightboxImage.src=p.images[currentIndex]; }
 p.images.forEach((imgSrc,i)=>{ const thumb=document.createElement("img"); thumb.src=imgSrc; if(i===0) thumb.classList.add('active'); thumb.addEventListener('click',()=> showImage(i)); thumbsContainer.appendChild(thumb); });
 document.querySelector('.arrow-left').addEventListener('click',()=> showImage((currentIndex-1+p.images.length)%p.images.length));
 document.querySelector('.arrow-right').addEventListener('click',()=> showImage((currentIndex+1)%p.images.length));
 mainImage.addEventListener('click',()=> lightbox.style.display='flex');
 lightbox.addEventListener('click', e => { if(e.target===lightbox) lightbox.style.display='none'; });
 leftBtn.addEventListener('click', e=>{ e.stopPropagation(); showImage((currentIndex-1+p.images.length)%p.images.length); });
 rightBtn.addEventListener('click', e=>{ e.stopPropagation(); showImage((currentIndex+1)%p.images.length); });
 showImage(0);
 p.specs.forEach(s=>{ const li=document.createElement('li'); li.innerText=s; document.getElementById('specs').appendChild(li); });
}
const goHome=()=>{ window.scrollTo({top:0, behavior:'smooth'}); document.getElementById('mainPage').style.display='block'; document.getElementById('productPage').style.display='none'; document.getElementById('hero-bg').style.display='block'; }
document.getElementById('homeBtn').addEventListener('click',goHome);
document.getElementById('navHome').addEventListener('click',goHome);

// About modal
const aboutModal = document.getElementById('aboutModal');
const closeAboutModal = document.getElementById('closeAboutModal');
document.getElementById('navAbout').addEventListener('click',()=>{
 aboutModal.classList.remove('hidden'); aboutModal.classList.add('flex');
});
closeAboutModal.addEventListener('click',()=>{
 aboutModal.classList.add('hidden'); aboutModal.classList.remove('flex');
});
aboutModal.addEventListener('click', e => { if(e.target===aboutModal){ aboutModal.classList.add('hidden'); aboutModal.classList.remove('flex'); } });
document.querySelectorAll('.aboutNavLink').forEach(link=>{
 link.addEventListener('click', e=>{
 e.preventDefault();
 const target=document.querySelector(link.getAttribute('href'));
 target.scrollIntoView({behavior:'smooth'});
 });
});

document.getElementById('navProducts').addEventListener('click',()=>{ if(document.getElementById('productPage').style.display==='block'){ goHome(); } window.scrollTo({top:document.getElementById('mainPage').offsetTop, behavior:'smooth'}); });
document.getElementById('navContact').addEventListener('click',()=> document.getElementById('contact').scrollIntoView({behavior:'smooth'}));
</script>

<!-- (Останалата част от кода за cart и бутоните остава същата както преди — няма да го копирам втори път тук за краткост) -->

</body>
</html>
