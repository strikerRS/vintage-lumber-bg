<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vintage Lumber Bulgaria</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
body { scroll-behavior:smooth; background:#f4eadf; color:#333; }
#hero-bg{background-image:url('bg-old-bulgarian-farm.jpg');background-attachment:fixed;background-size:cover;background-position:center;height:100vh;}
header{position:fixed;top:0;left:0;width:100%;background:rgba(255,255,255,.95);z-index:50;display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;box-shadow:0 2px 8px rgba(0,0,0,.2);}
header h1{font-size:1.75rem;color:#6B4226;font-weight:bold;cursor:pointer;}
nav a{margin-left:1rem;font-weight:500;color:#6B4226;cursor:pointer}
nav a:hover{color:#A66B3C}
.cart-btn{background:#6B4226;color:#fff;border-radius:50%;width:3rem;height:3rem;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;}
.cart-count{position:absolute;top:-.5rem;right:-.5rem;background:red;width:1.25rem;height:1.25rem;font-size:.75rem;border-radius:50%;display:flex;align-items:center;justify-content:center;}

.gallery-main{width:100%;height:300px;object-fit:cover;border-radius:.5rem;cursor:pointer}
.gallery-thumbs img{width:70px;height:70px;object-fit:cover;border-radius:.25rem;cursor:pointer;border:2px solid transparent}
.gallery-thumbs img.active{border-color:#6B4226}
.arrow-btn{position:absolute;top:50%;transform:translateY(-50%);background:rgba(107,66,38,.8);color:#fff;font-size:2rem;padding:.25rem .5rem;border-radius:.25rem}

#productPage{display:none;padding-top:4rem}

/* ===== –ö–£–ü–ò –ë–£–¢–û–ù–ò ‚Äì –°–¢–ê–†–ê –î–™–°–ö–ê ===== */
.vl-buy-btn,
.vl-buy-btn-card,
.vl-buy-btn-product{
  background-image:url("images/board_5.png")!important;
  background-size:cover!important;
  background-position:center!important;
  color:#fff!important;
  text-shadow:1px 1px 2px #000;
  border:none!important;
}
.vl-buy-btn:hover{filter:brightness(1.1)}

/* ===== REFRESH ‚ü≥ ===== */
#vl-refresh-cart{
  background:none;
  border:1px solid #6B4226;
  font-size:22px;
  border-radius:6px;
}
#vl-refresh-cart::before{content:"‚ü≥";}
</style>
</head>

<body>

<header>
  <h1 id="homeBtn">Vintage Lumber</h1>
  <nav class="flex items-center">
    <a id="navHome">–ù–∞—á–∞–ª–æ</a>
    <a id="navProducts">–ü—Ä–æ–¥—É–∫—Ç–∏</a>
    <a id="navContact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
    <a id="navAbout">–ó–∞ –Ω–∞—Å</a>
    <div class="cart-btn ml-4">üõí<span class="cart-count">0</span></div>
  </nav>
</header>

<section id="hero-bg"></section>

<div id="mainPage" class="mt-24">
<main class="max-w-7xl mx-auto p-10 grid md:grid-cols-3 gap-8">

<a href="index.html?product=dd1" class="bg-white rounded-xl shadow hover:scale-105 transition">
<img src="images/dd1.jpg" class="h-56 w-full object-cover rounded-t-xl">
<div class="p-4 text-center">
<h3 class="font-semibold text-lg">–°—Ç–∞—Ä–∞ –¥—ä—Ä–≤–µ–Ω–∞ –¥—ä—Å–∫–∞</h3>
</div>
</a>

<a href="index.html?product=dd2" class="bg-white rounded-xl shadow hover:scale-105 transition">
<img src="images/dd2.jpg" class="h-56 w-full object-cover rounded-t-xl">
<div class="p-4 text-center">
<h3 class="font-semibold text-lg">–†—É—Å—Ç–∏–∫ –¥—ä—Å–∫–∞</h3>
</div>
</a>

<a href="index.html?product=dg1" class="bg-white rounded-xl shadow hover:scale-105 transition">
<img src="images/dg1.jpg" class="h-56 w-full object-cover rounded-t-xl">
<div class="p-4 text-center">
<h3 class="font-semibold text-lg">–°—Ç–∞—Ä–∞ –º–∞—Å–∏–≤–Ω–∞ –≥—Ä–µ–¥–∞</h3>
</div>
</a>

</main>
</div>

<!-- ================= CART PANEL ================= -->
<div id="vl-cart-panel" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50">
<div class="bg-white rounded-xl w-full max-w-3xl p-6 relative">
<button id="vl-close-cart" class="absolute top-4 right-4">‚úï</button>
<h2 class="text-2xl font-bold mb-4">–ö–æ—à–Ω–∏—Ü–∞</h2>
<div id="vl-cart-items" class="space-y-3"></div>

<div class="mt-4 flex justify-between items-center">
<div id="vl-cart-total" class="font-bold">0 –ª–≤.</div>
<div class="flex gap-2">
<button id="vl-refresh-cart"></button>
<button id="vl-checkout" class="vl-buy-btn px-4 py-2 rounded">–§–∏–Ω–∞–ª–∏–∑–∏—Ä–∞–π</button>
</div>
</div>
</div>
</div>

<script>
const products={
 dd1:{title:"–°—Ç–∞—Ä–∞ –¥—ä—Ä–≤–µ–Ω–∞ –¥—ä—Å–∫–∞",price:120,images:["images/dd1.jpg"]},
 dd2:{title:"–†—É—Å—Ç–∏–∫ –¥—ä—Å–∫–∞",price:150,images:["images/dd2.jpg"]},
 dg1:{title:"–°—Ç–∞—Ä–∞ –º–∞—Å–∏–≤–Ω–∞ –≥—Ä–µ–¥–∞",price:200,images:["images/dg1.jpg"]}
};

const cartBtn=document.querySelector(".cart-btn");
const panel=document.getElementById("vl-cart-panel");
const itemsDiv=document.getElementById("vl-cart-items");
const totalEl=document.getElementById("vl-cart-total");

function load(){return JSON.parse(localStorage.getItem("cart")||"[]")}
function save(c){localStorage.setItem("cart",JSON.stringify(c))}
function updateCount(){document.querySelector(".cart-count").innerText=load().length}

function render(){
 itemsDiv.innerHTML="";
 let cart=load(), total=0;
 let map={};
 cart.forEach(k=>map[k]=(map[k]||0)+1);
 for(let k in map){
  let p=products[k], q=map[k];
  total+=p.price*q;
  itemsDiv.innerHTML+=`
  <div class="flex justify-between items-center">
   <div>${p.title} √ó ${q}</div>
   <div class="flex gap-1">
    <button onclick="qty('${k}',-1)">‚àí</button>
    <button onclick="qty('${k}',1)">+</button>
   </div>
  </div>`;
 }
 totalEl.innerText=total+" –ª–≤.";
 updateCount();
}

function qty(k,d){
 let c=load();
 if(d>0)c.push(k);
 else{let i=c.indexOf(k);if(i>-1)c.splice(i,1);}
 save(c);render();
}

document.querySelectorAll('a[href*="product="]').forEach(a=>{
 let key=new URL(a.href).searchParams.get("product");
 let btn=document.createElement("button");
 btn.className="vl-buy-btn mt-2 px-4 py-2 rounded";
 btn.innerText="–ö—É–ø–∏";
 btn.onclick=e=>{e.preventDefault();let c=load();c.push(key);save(c);render();}
 a.querySelector(".p-4").appendChild(btn);
});

cartBtn.onclick=()=>{panel.classList.remove("hidden");render();}
document.getElementById("vl-close-cart").onclick=()=>panel.classList.add("hidden");
document.getElementById("vl-refresh-cart").onclick=render;

updateCount();
</script>

</body>
</html>
